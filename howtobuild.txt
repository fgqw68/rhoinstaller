How to build in first time:

*** RhoStudio plugin ***

*** RhoStudio feature ***

*** Eclipse product ***

1. Download Eclipse 3.6 for RPC developer config
1.1 dltk
1.2 egit

2. clone Rhostudio repositary (git clone git@github.com:rhomobile/rhostudio.git)
  
3. Import RhoStudio project and Rhostudio feature project into workspace

   3.1 Goto File/Import menu item 
   3.2 Select General/Existing Project into Workspace
   3.3 Select repository directory 
   3.4 Finish   
   3.5 Import 

4. After import RhoStudio project you should see RhoStudio product item in project tree

5. Export product 

   5.1 Open product item 
   5.2 press export button in toolbar
   5.3 Uncheck 'Generate metadata repositary' item 
   5.4 Place destination directory 

6. Copy product files in directory with eclipse assambly <!!!>


*** Windows installer ***

Download:

1. JDK (32-bit) (http://download.oracle.com/otn-pub/java/jdk/7u4-b20/jdk-7u4-windows-i586.exe)

2. NSIS installer (http://nsis.sourceforge.net/Download).
    NSIS large string patch (http://downloads.sourceforge.net/project/nsis/NSIS%202/2.46/nsis-2.46-strlen_8192.zip?r=http%3A%2F%2Fnsis.sourceforge.net%2FSpecial_Builds&ts=1319209736&use_mirror=citylan)

3. Eclipse for RCP and RAP Developers (http://www.eclipse.org/downloads/download.php?file=/technology/epp/downloads/release/helios/R/eclipse-rcp-helios-win32-x86_64.zip)

4. Installer package archive (http://rhostudio.s3.amazonaws.com/instant/work/installer.rar)

5. RhoStudio repository (git clone http://github.com/rhomobile/rhostudio.git)

6. Rhodes and RhoElements gems.


Install:

1. Install JDK.

2. Install NSIS. Unpack NSIS large string patch and copy patch content into NSIS installation.

3. Unpack Eclipse for RCP and RAP Developers.
   Run Eclipse, select new workspace and remeber path to it.
   Install DLTK 2.0 from http://download.eclipse.org/technology/dltk/updates/.
   Import rhostudio projects into workspace.
   Quick fix build problems.
   Close Eclipse.

4. Unpack installer package archive. Update from installer repository (git checkout ., git pull).


Build:

1. Copy Rhodes and RhoElements gems to installer package at path 'installer\installer\package\rhoelements gems'.

2. Change settings in installer\script\Rakefile (see 'Settings' section below).

3. Run new console (cmd.exe), change PATH to include Ruby in installer package (installer\package\ruby\bin).

4. In console change directory to installer\script.

5. Export plugin from Eclipse GUI (was: Run 'rake installer:rhostudio:plugin' command).
    When RhoStudio starts select workspace, load it and exit.
    Check for new plugin with 'dir /b ..\package\eclipse\plugins\com.rhomobile.rhostudio_*.jar' command.
    Check line 'com.rhomobile.rhostudio,...' in ..\package\eclipse\configuration\org.eclipse.equinox.simpleconfigurator\bundles.info file.

6. Delete installer\package\eclipse\configuration\.settings directory.

7. Run 'rake installer:motorola' command
    (At the begining of build process you will see invitation to remove gems. Enter 'y' for all requests.
    After script finishes working check ..\package directory fot new installer). 


Settings:

$majorVer, $minorVer, $miniVer, $betaVer
Version number. $betaVer use only in beta and user configurations.

$nsisPath
Path to NSIS compiler with file name ('C:/Program Files (x86)/NSIS/makensis.exe')

$rhodesgem 
Path to rhodes gem file
   
$rhoelemetsgem 
Path to rhoelements gem file

$workspace_dir
Path to eclipse workspace with imported plugin for build rhostudio plugin

$studio_dir
Path to rhostudio repositary

commands:

rake installer:motorola
download and install latest release versions rhodes, rhoconnect, rhoconnect-adapters
after it, build installer with name 'MotorolaRhoMobileSuite#.#.#.exe'. 
The file is placed in package folder after build finished.

*** OSX installer ***

1. Download base DMG image (link - http://rhostudio.s3.amazonaws.com/instant/work/RhoMobileSuiteInstaller.dmg)

2. Mount image in system

3. Put rhodes and rhoelements gems in '.gems' subfolder on the image

4. Change gems names in 'Install gems' and 'Install gems on rvm' scripts

5. Make new version of RhoStudio plugin and put it in 'Motorola RhoStudio/plugins' subfolder

6. Open the image in disk utility and convert to 'read only' image with compressed content 
